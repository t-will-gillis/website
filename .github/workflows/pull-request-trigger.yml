name: Pull Request Trigger
on:
  pull_request:
    types: [closed]
    branches:
      - 'gh-pages'
      - 'feature-homepage-launch'
      - 'test_project_board_for_gha'

jobs:
  Hello-World:
    runs-on: ubuntu-latest
    steps:
     - run: echo "ðŸŽ‰ This 'Pull Request Trigger' job was automatically triggered by a ${{ github.event_name }} event."
     
  Hey-I-Am-Merged:
    runs-on: ubuntu-latest
    if: ${{ github.event_name == 'pull_request' && github.event.action == 'merged' }}
    steps:
     - run: echo "I am running because ***github.event_name == 'pull_request' && github.event.action == 'merged'***."
  
  Truncated-merge-message:
    runs-on: ubuntu-latest
    if: ${{ github.event.action == 'merged'}}
    steps:
     - run: echo "I am running because only --> github.event.action == 'merged' <--."
     
  Hey-I-Am-Merged2:
    runs-on: ubuntu-latest
    if: ${{ github.event_name == 'pull_request' && github.event.pull_request.merged == true }}
    steps:
     - run: echo "I am running because ***github.event_name == 'pull_request' && github.event.pull_request.merged == true'***."
  
  Truncated-merge-message2:
    runs-on: ubuntu-latest
    if: ${{ github.event.pull_request.merged == true}}
    steps:
     - run: echo "I am running because only --> github.event.pull_request.merged == true <--."
     
  Delete-Merged-PRs:
    runs-on: ubuntu-latest
    if: ${{ github.event.pull_request.merged == true }} 
    steps: 
      - name: Echo Delete Attempt
        run: echo "This job's status is ${{ job.status }}."
  
  Delete-Merged-PRs2:
    runs-on: ubuntu-latest
    if: ${{ github.event.pull_request.merged == true }} 
    steps: 
      - name: Delete Merged PRs
        uses: alex-page/github-project-automation-plus@v0.8.1
        with:
          project: 'Project Board'
          column: 'QA'
          repo-token: ${{ secrets.GHPROJECT_TOKEN }}
          action: delete
          
  Delete-Merged-PRs3:
    runs-on: ubuntu-latest
    if: ${{ github.event.pull_request.merged == true }} 
    steps: 
      - name: Delete Merged PRs
        uses: alex-page/github-project-automation-plus@v0.8.1
        with:
          repo-token: ${{ secrets.GHPROJECT_TOKEN }}
          action: delete
          
