name: GraphQL- Get Status Fields
on: 
  workflow_dispatch:

jobs:
  Get-Nodes:
    runs-on: ubuntu-latest
    steps:

      - name: Get project data
        env:
          GH_TOKEN: ${{ secrets.GRAPHQL }}
          USER: "hackforla"
          PROJECT_NUMBER: 86

        run: |
          gh api graphql -f query='
            query findStatusSubfieldIds {
              organization(login:$USER) {
                projectV2(number:$PROJECT_NUMBER) {
                 field(name:"Status") { 
                    ... on ProjectV2SingleSelectField { 	
                    id
                    name
                    options{ 
                        id 
                        name
                      } 
                    }
                  }
                }
              }
            }'
                        
